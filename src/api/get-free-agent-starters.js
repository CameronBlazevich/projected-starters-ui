import axios from "axios"
import { createErrorResponse, createSuccessResponse } from "./api-response";

export default async function getData(token, leagueId) {
    if (!token && leagueId) {
        return createSuccessResponse(mockData);
    }
    try {
        //  return createSuccessResponse(mockData)

        const baseUrl = process.env.REACT_APP_API_URL;
        // console.log(`calling getData with token: ${token}`)
        const config = {"x-access-token": token};
        const resp = await axios.get(
            `${baseUrl}/getfreeagents/${leagueId}`,
            {headers: config});
        return createSuccessResponse(resp.data);
    } catch (err) {
        console.error(err)
        return createErrorResponse(err);
    }
}


const mockData = [{"gameDate":"April 17","games":[{"awayTeam":{"teamAbbr":"CLE","runsScored":68,"strikeouts":111,"onBasePercent":".334","runsRank":18,"strikeoutsRank":26,"wins":9,"losses":6},"homeTeam":{"teamAbbr":"DET","runsScored":50,"strikeouts":142,"onBasePercent":".273","runsRank":28,"strikeoutsRank":4,"wins":5,"losses":9},"awayPitcher":null,"homePitcher":{"name":{"full":"Eduardo Rodriguez","first":"Eduardo","last":"Rodriguez","ascii_first":"Eduardo","ascii_last":"Rodriguez"},"team":"DET","playerUrl":"https://sports.yahoo.com/mlb/players/9546","playerId":"9546","eligiblePositions":{"position":["SP","P"]},"stats":{"innings_pitched":"16.0","era":4.5,"strikeouts":9,"whip":1.375}}}]},{"gameDate":"April 18","games":[{"awayTeam":{"teamAbbr":"CLE","runsScored":68,"strikeouts":111,"onBasePercent":".334","runsRank":18,"strikeoutsRank":26,"wins":9,"losses":6},"homeTeam":{"teamAbbr":"DET","runsScored":50,"strikeouts":142,"onBasePercent":".273","runsRank":28,"strikeoutsRank":4,"wins":5,"losses":9},"awayPitcher":{"name":{"full":"Peyton Battenfield","first":"Peyton","last":"Battenfield","ascii_first":"Peyton","ascii_last":"Battenfield"},"team":"CLE","playerUrl":"https://sports.yahoo.com/mlb/players/12402","playerId":"12402","eligiblePositions":{"position":["SP","P"]},"stats":{"innings_pitched":"4.2","era":1.929,"strikeouts":3,"whip":0.857}},"homePitcher":null},{"awayTeam":{"teamAbbr":"LAA","runsScored":75,"strikeouts":124,"onBasePercent":".342","runsRank":9,"strikeoutsRank":19,"wins":7,"losses":7},"homeTeam":{"teamAbbr":"NYY","runsScored":72,"strikeouts":135,"onBasePercent":".308","runsRank":11,"strikeoutsRank":9,"wins":9,"losses":6},"awayPitcher":{"name":{"full":"José Suarez","first":"José","last":"Suarez","ascii_first":"José","ascii_last":"Suarez"},"team":"LAA","playerUrl":"https://sports.yahoo.com/mlb/players/11211","playerId":"11211","eligiblePositions":{"position":["SP","P"]},"stats":{"innings_pitched":"8.1","era":10.8,"strikeouts":6,"whip":2.28}},"homePitcher":null},{"awayTeam":{"teamAbbr":"MIL","runsScored":76,"strikeouts":133,"onBasePercent":".355","runsRank":8,"strikeoutsRank":11,"wins":10,"losses":5},"homeTeam":{"teamAbbr":"SEA","runsScored":64,"strikeouts":129,"onBasePercent":".303","runsRank":20,"strikeoutsRank":15,"wins":6,"losses":8},"awayPitcher":{"name":{"full":"Colin Rea","first":"Colin","last":"Rea","ascii_first":"Colin","ascii_last":"Rea"},"team":"MIL","playerUrl":"https://sports.yahoo.com/mlb/players/10048","playerId":"10048","eligiblePositions":{"position":["SP","RP","P"]},"stats":{"innings_pitched":"5.2","era":1.588,"strikeouts":6,"whip":0.529}},"homePitcher":null}]},{"gameDate":"April 19","games":[{"awayTeam":{"teamAbbr":"SF","runsScored":69,"strikeouts":156,"onBasePercent":".331","runsRank":17,"strikeoutsRank":1,"wins":5,"losses":9},"homeTeam":{"teamAbbr":"MIA","runsScored":49,"strikeouts":131,"onBasePercent":".310","runsRank":30,"strikeoutsRank":13,"wins":8,"losses":7},"awayPitcher":{"name":{"full":"Sean Manaea","first":"Sean","last":"Manaea","ascii_first":"Sean","ascii_last":"Manaea"},"team":"SF","playerUrl":"https://sports.yahoo.com/mlb/players/9582","playerId":"9582","eligiblePositions":{"position":["SP","P"]},"stats":{"innings_pitched":"11.1","era":4.765,"strikeouts":13,"whip":1.147}},"homePitcher":null},{"awayTeam":{"teamAbbr":"CLE","runsScored":68,"strikeouts":111,"onBasePercent":".334","runsRank":18,"strikeoutsRank":26,"wins":9,"losses":6},"homeTeam":{"teamAbbr":"DET","runsScored":50,"strikeouts":142,"onBasePercent":".273","runsRank":28,"strikeoutsRank":4,"wins":5,"losses":9},"awayPitcher":{"name":{"full":"Cal Quantrill","first":"Cal","last":"Quantrill","ascii_first":"Cal","ascii_last":"Quantrill"},"team":"CLE","playerUrl":"https://sports.yahoo.com/mlb/players/10573","playerId":"10573","eligiblePositions":{"position":["SP","P"]},"stats":{"innings_pitched":"15.2","era":5.745,"strikeouts":9,"whip":1.66}},"homePitcher":{"name":{"full":"Joey Wentz","first":"Joey","last":"Wentz","ascii_first":"Joey","ascii_last":"Wentz"},"team":"DET","playerUrl":"https://sports.yahoo.com/mlb/players/10426","playerId":"10426","eligiblePositions":{"position":["SP","P"]},"stats":{"innings_pitched":"12.2","era":6.395,"strikeouts":10,"whip":1.342}}},{"awayTeam":{"teamAbbr":"ARI","runsScored":64,"strikeouts":104,"onBasePercent":".302","runsRank":19,"strikeoutsRank":28,"wins":8,"losses":7},"homeTeam":{"teamAbbr":"STL","runsScored":62,"strikeouts":126,"onBasePercent":".345","runsRank":23,"strikeoutsRank":17,"wins":6,"losses":9},"awayPitcher":null,"homePitcher":{"name":{"full":"Jake Woodford","first":"Jake","last":"Woodford","ascii_first":"Jake","ascii_last":"Woodford"},"team":"STL","playerUrl":"https://sports.yahoo.com/mlb/players/11542","playerId":"11542","eligiblePositions":{"position":["SP","RP","P"]},"stats":{"innings_pitched":"14.1","era":5.651,"strikeouts":11,"whip":1.744}}},{"awayTeam":{"teamAbbr":"PHI","runsScored":61,"strikeouts":145,"onBasePercent":".332","runsRank":25,"strikeoutsRank":2,"wins":5,"losses":10},"homeTeam":{"teamAbbr":"CHW","runsScored":70,"strikeouts":121,"onBasePercent":".317","runsRank":15,"strikeoutsRank":21,"wins":6,"losses":9},"awayPitcher":{"name":{"full":"Taijuan Walker","first":"Taijuan","last":"Walker","ascii_first":"Taijuan","ascii_last":"Walker"},"team":"PHI","playerUrl":"https://sports.yahoo.com/mlb/players/9321","playerId":"9321","eligiblePositions":{"position":["SP","P"]},"stats":{"innings_pitched":"15.0","era":4.2,"strikeouts":14,"whip":1.4}},"homePitcher":null},{"awayTeam":{"teamAbbr":"MIL","runsScored":76,"strikeouts":133,"onBasePercent":".355","runsRank":8,"strikeoutsRank":11,"wins":10,"losses":5},"homeTeam":{"teamAbbr":"SEA","runsScored":64,"strikeouts":129,"onBasePercent":".303","runsRank":20,"strikeoutsRank":15,"wins":6,"losses":8},"awayPitcher":{"name":{"full":"Eric Lauer","first":"Eric","last":"Lauer","ascii_first":"Eric","ascii_last":"Lauer"},"team":"MIL","playerUrl":"https://sports.yahoo.com/mlb/players/10576","playerId":"10576","eligiblePositions":{"position":["SP","P"]},"stats":{"innings_pitched":"15.1","era":5.283,"strikeouts":15,"whip":1.565}},"homePitcher":null},{"awayTeam":{"teamAbbr":"TOR","runsScored":79,"strikeouts":117,"onBasePercent":".350","runsRank":6,"strikeoutsRank":24,"wins":10,"losses":5},"homeTeam":{"teamAbbr":"HOU","runsScored":76,"strikeouts":126,"onBasePercent":".335","runsRank":7,"strikeoutsRank":16,"wins":7,"losses":8},"awayPitcher":{"name":{"full":"José Berríos","first":"José","last":"Berríos","ascii_first":"José","ascii_last":"Berríos"},"team":"TOR","playerUrl":"https://sports.yahoo.com/mlb/players/9872","playerId":"9872","eligiblePositions":{"position":["SP","P"]},"stats":{"innings_pitched":"14.2","era":7.977,"strikeouts":18,"whip":1.5}},"homePitcher":null}]},{"gameDate":"April 20","games":[{"awayTeam":{"teamAbbr":"MIN","runsScored":63,"strikeouts":143,"onBasePercent":".303","runsRank":21,"strikeoutsRank":3,"wins":10,"losses":5},"homeTeam":{"teamAbbr":"BOS","runsScored":85,"strikeouts":120,"onBasePercent":".325","runsRank":3,"strikeoutsRank":22,"wins":7,"losses":8},"awayPitcher":null,"homePitcher":{"name":{"full":"Tanner Houck","first":"Tanner","last":"Houck","ascii_first":"Tanner","ascii_last":"Houck"},"team":"BOS","playerUrl":"https://sports.yahoo.com/mlb/players/10852","playerId":"10852","eligiblePositions":{"position":["SP","RP","P"]},"stats":{"innings_pitched":"14.0","era":4.5,"strikeouts":15,"whip":1.357}}},{"awayTeam":{"teamAbbr":"SD","runsScored":71,"strikeouts":133,"onBasePercent":".323","runsRank":14,"strikeoutsRank":12,"wins":8,"losses":8},"homeTeam":{"teamAbbr":"ARI","runsScored":64,"strikeouts":104,"onBasePercent":".302","runsRank":19,"strikeoutsRank":28,"wins":8,"losses":7},"awayPitcher":null,"homePitcher":{"name":{"full":"Ryne Nelson","first":"Ryne","last":"Nelson","ascii_first":"Ryne","ascii_last":"Nelson"},"team":"ARI","playerUrl":"https://sports.yahoo.com/mlb/players/12356","playerId":"12356","eligiblePositions":{"position":["SP","P"]},"stats":{"innings_pitched":"17.0","era":3.706,"strikeouts":10,"whip":1.176}}},{"awayTeam":{"teamAbbr":"NYM","runsScored":71,"strikeouts":107,"onBasePercent":".340","runsRank":13,"strikeoutsRank":27,"wins":9,"losses":6},"homeTeam":{"teamAbbr":"SF","runsScored":69,"strikeouts":156,"onBasePercent":".331","runsRank":17,"strikeoutsRank":1,"wins":5,"losses":9},"awayPitcher":{"name":{"full":"Carlos Carrasco","first":"Carlos","last":"Carrasco","ascii_first":"Carlos","ascii_last":"Carrasco"},"team":"NYM","playerUrl":"https://sports.yahoo.com/mlb/players/8185","playerId":"8185","eligiblePositions":{"position":["SP","P"]},"stats":{"innings_pitched":"13.2","era":8.561,"strikeouts":8,"whip":1.61}},"homePitcher":null}]}];